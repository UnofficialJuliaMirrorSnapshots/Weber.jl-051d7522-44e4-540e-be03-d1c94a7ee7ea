So far we have seen several examples of how to generate sounds and simple images (text). Here we'll cover stimulus generation in more detail.

# Sounds

Support for generating images in Weber comes from [TimedSound](https://github.com/haberdashPI/TimedSound.jl). See its documentation for details. When using sounds from Weber, moments will pass their timing parameters directly to 
calls to `play`, allowing for relatively precise timing.

As an example, the following code plays three pure tones one after the other, with a 50ms gap between each.

```julia
addtrial(moment(play,tone(1kHz,950ms)),
         moment(1s,play,tone(1kHz,950ms)),
         moment(1s,play,tone(1kHz,950ms)))

```

The following plays the file "example.wav" exactly 2s after the tone starts.

```julia
addtrial(moment(play,tone(1kHz,500ms)),
         moment(2s,play,"example.wav"))
```


!!! note "Sounds are cached"

    You can safely play the same file multiple times: the sound is cached, and will only load into memory once.
    But be careful, if you want to make any changes you make to a sound to be played, you need to
    clear the cache by calling `clear_sound_cache()`.


# Images

Images can be generated by either displaying a file or generating image primitives.

## Loading a file

You can display an image file by calling `display` on the file name.

```julia
addtrial(moment(display,"myimage.png"))
```

!!! note "Images are cached"

    You can safely display the same file multiple times: the image is cached, and will only load into memory once.
    But be careful, if you want to make any changes you make to an image to be displayed, you need to
    clear the cache by calling `clear_image_cache()`.
    

Analogous to sounds, where one can call `sound` to aload a file, if you need to manipulate the image before displaying it you can load it using [`visual`](@ref). For example, the following displays the upper quarter of an image.

```julia
myimage = visual("myimage.png")
addtrial(moment(display,myimage[1:div(end,2),1:div(end,2)]))
```

Note that displaying a string can also result in that string being printed to the screen. Weber determines the difference between a string you want to display and a string referring to an image file by looking at the end of the string. If the string ends in a valid image file type (.bmp, .jpeg, .png, etc...), Weber assumes it is an image file you want to load, otherwise it assumes it is a string you want to print to the screen.

So for example the following display the text "Hello, World"

```julia
myimage = visual("Hello, World")
addtrial(moment(display,myimage))
```

## Image Primitives

Support for generating images in Weber comes from [Images.jl](https://github.com/JuliaImages/Images.jl). In this package, images are represented as arrays. For instance, to display a white 100x100 pixel box next to a black 100x100 pixel box, we could do the following.

```julia
addtrial(moment(display,[ones(100,100); zeros(100,100)]))
```

For more information about generating images please refer to the [JuliaImages](http://juliaimages.github.io/latest/) documentation.
